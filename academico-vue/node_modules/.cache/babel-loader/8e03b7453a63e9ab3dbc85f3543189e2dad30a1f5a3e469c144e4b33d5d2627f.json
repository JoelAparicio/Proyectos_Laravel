{"ast":null,"code":"import { mostrarAlerta, enviarSolicitud } from '../funciones';\nimport { useRoute } from 'vue-router';\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      id: 0,\n      nombre: '',\n      apellido: '',\n      foto: '',\n      url: 'http://academicobackend.test/api/v1/estudiantes',\n      cargando: false\n    };\n  },\n  mounted() {\n    const route = useRoute();\n    this.id = route.params.id;\n    this.url += '/' + this.id;\n    this.getEstudiante();\n  },\n  methods: {\n    getEstudiante() {\n      axios.get(this.url).then(res => {\n        this.nombre = res.data.data.nombre;\n        this.apellido = res.data.data.apellido;\n        this.foto = res.data.data.foto;\n      });\n    },\n    actualizar() {\n      event.preventDefault();\n      var miFoto = document.getElementById('fotoimg');\n      this.foto = miFoto.src;\n      if (this.nombre.trim() === '') {\n        mostrarAlerta('Ingrese un nombre', 'warning', 'nombre');\n      } else if (this.apellido.trim() === '') {\n        mostrarAlerta('Ingrese un apellido', 'warning', 'apellido');\n      } else {\n        var parametros = {\n          nombre: this.nombre.trim(),\n          apellido: this.apellido.trim(),\n          foto: this.foto.trim()\n        };\n        enviarSolicitud('PUT', parametros, this.url, 'Estudiante actualizado!!!');\n      }\n    },\n    previsualizarFoto(event) {\n      var reader = new FileReader();\n      reader.readAsDataURL(event.target.files[0]);\n      reader.onload = function () {\n        var miFoto = document.getElementById('fotoimg');\n        miFoto.src = reader.result;\n        this.foto = miFoto.src;\n      };\n    }\n  }\n};","map":{"version":3,"names":["mostrarAlerta","enviarSolicitud","useRoute","axios","data","id","nombre","apellido","foto","url","cargando","mounted","route","params","getEstudiante","methods","get","then","res","actualizar","event","preventDefault","miFoto","document","getElementById","src","trim","parametros","previsualizarFoto","reader","FileReader","readAsDataURL","target","files","onload","result"],"sources":["C:\\laragon\\www\\academico-vue\\src\\views\\EstudianteEdit.vue"],"sourcesContent":["<template>\r\n  <div class=\"row mt-3\">\r\n    <div class=\"col-md-6 offset-md-3\">\r\n      <div class=\"card\">\r\n        <div class=\"card-header bg-dark text-white text-center\">\r\n          Editar estudiante\r\n        </div>\r\n        <div class=\"card-body\">\r\n          <form v-on:submit=\"actualizar\">\r\n            <div class=\"d-grid col-6 mx-auto mb-3\">\r\n              <img v-if=\"this.foto\" height=\"100\" :src=\"this.foto\" id=\"fotoimg\" class=\"img-thumbnail\" alt=\"\">\r\n              <img v-else height=\"100\" src=\"https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-256.png\" class=\"img-thumbnail\" id=\"fotoimg\">\r\n            </div>\r\n            <div class=\"input-group mb-3\">\r\n              <span class=\"input-group-text\"><i class=\"fa-solid fa-user\"></i></span>\r\n              <input type=\"text\" v-model=\"nombre\" id=\"nombre\" placeholder=\"Ingrese su nombre\" required maxlength=\"50\" class=\"form-control\">\r\n            </div>\r\n            <div class=\"input-group mb-3\">\r\n              <span class=\"input-group-text\"><i class=\"fa-solid fa-user\"></i></span>\r\n              <input type=\"text\" v-model=\"apellido\" id=\"apellido\" placeholder=\"Ingrese su apellido\" required maxlength=\"75\" class=\"form-control\">\r\n            </div>\r\n            <div class=\"input-group mb-3\">\r\n              <span class=\"input-group-text\"><i class=\"fa-solid fa-gift\"></i></span>\r\n              <input v-on:change=\"previsualizarFoto\"type=\"file\" accept=\"image/png, image/jpeg, image/gif\" class=\"form-control\">\r\n            </div>\r\n            <div class=\"d-grid col-6 mx-auto mb-3\">\r\n              <button class=\"btn btn-success\"><i class=\"fa-solid fa-refresh\"></i>&nbsp;&nbsp;&nbsp;Guardar cambios</button>\r\n\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mostrarAlerta, enviarSolicitud } from '../funciones';\r\nimport { useRoute } from 'vue-router';\r\nimport axios from 'axios';\r\n\r\nexport default{\r\n  data(){\r\n    return{\r\n      id:0,\r\n      nombre:'',\r\n      apellido:'',\r\n      foto:'',\r\n      url:'http://academicobackend.test/api/v1/estudiantes',\r\n      cargando:false\r\n    }\r\n  },\r\n  mounted(){\r\n    const route = useRoute();\r\n    this.id = route.params.id;\r\n    this.url += '/'+this.id;\r\n    this.getEstudiante();\r\n  },\r\n\r\n  methods:{\r\n    getEstudiante(){\r\n      axios.get(this.url).then(\r\n        res =>{\r\n          this.nombre = res.data.data.nombre;\r\n          this.apellido = res.data.data.apellido;\r\n          this.foto = res.data.data.foto;\r\n        }\r\n      );\r\n    },\r\n    actualizar(){\r\n      event.preventDefault();\r\n      var miFoto = document.getElementById('fotoimg');\r\n      this.foto=miFoto.src;\r\n\r\n      if (this.nombre.trim()===''){\r\n        mostrarAlerta('Ingrese un nombre','warning', 'nombre');\r\n      }else if (this.apellido.trim()===''){\r\n        mostrarAlerta('Ingrese un apellido','warning', 'apellido');\r\n      }else {\r\n        var parametros = {nombre:this.nombre.trim(),apellido:this.apellido.trim(), foto:this.foto.trim()}\r\n        enviarSolicitud('PUT',parametros,this.url,'Estudiante actualizado!!!');\r\n      }\r\n    },\r\n    previsualizarFoto(event){\r\n      var reader = new FileReader();\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      reader.onload = function(){\r\n        var miFoto = document.getElementById('fotoimg');\r\n        miFoto.src = reader.result;\r\n        this.foto=miFoto.src;\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n  "],"mappings":"AAqCA,SAASA,aAAa,EAAEC,eAAc,QAAS,cAAc;AAC7D,SAASC,QAAO,QAAS,YAAY;AACrC,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAc;EACZC,IAAIA,CAAA,EAAE;IACJ,OAAM;MACJC,EAAE,EAAC,CAAC;MACJC,MAAM,EAAC,EAAE;MACTC,QAAQ,EAAC,EAAE;MACXC,IAAI,EAAC,EAAE;MACPC,GAAG,EAAC,iDAAiD;MACrDC,QAAQ,EAAC;IACX;EACF,CAAC;EACDC,OAAOA,CAAA,EAAE;IACP,MAAMC,KAAI,GAAIV,QAAQ,CAAC,CAAC;IACxB,IAAI,CAACG,EAAC,GAAIO,KAAK,CAACC,MAAM,CAACR,EAAE;IACzB,IAAI,CAACI,GAAE,IAAK,GAAG,GAAC,IAAI,CAACJ,EAAE;IACvB,IAAI,CAACS,aAAa,CAAC,CAAC;EACtB,CAAC;EAEDC,OAAO,EAAC;IACND,aAAaA,CAAA,EAAE;MACbX,KAAK,CAACa,GAAG,CAAC,IAAI,CAACP,GAAG,CAAC,CAACQ,IAAI,CACtBC,GAAE,IAAI;QACJ,IAAI,CAACZ,MAAK,GAAIY,GAAG,CAACd,IAAI,CAACA,IAAI,CAACE,MAAM;QAClC,IAAI,CAACC,QAAO,GAAIW,GAAG,CAACd,IAAI,CAACA,IAAI,CAACG,QAAQ;QACtC,IAAI,CAACC,IAAG,GAAIU,GAAG,CAACd,IAAI,CAACA,IAAI,CAACI,IAAI;MAChC,CACF,CAAC;IACH,CAAC;IACDW,UAAUA,CAAA,EAAE;MACVC,KAAK,CAACC,cAAc,CAAC,CAAC;MACtB,IAAIC,MAAK,GAAIC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC;MAC/C,IAAI,CAAChB,IAAI,GAACc,MAAM,CAACG,GAAG;MAEpB,IAAI,IAAI,CAACnB,MAAM,CAACoB,IAAI,CAAC,CAAC,KAAG,EAAE,EAAC;QAC1B1B,aAAa,CAAC,mBAAmB,EAAC,SAAS,EAAE,QAAQ,CAAC;MACxD,CAAC,MAAK,IAAI,IAAI,CAACO,QAAQ,CAACmB,IAAI,CAAC,CAAC,KAAG,EAAE,EAAC;QAClC1B,aAAa,CAAC,qBAAqB,EAAC,SAAS,EAAE,UAAU,CAAC;MAC5D,CAAC,MAAK;QACJ,IAAI2B,UAAS,GAAI;UAACrB,MAAM,EAAC,IAAI,CAACA,MAAM,CAACoB,IAAI,CAAC,CAAC;UAACnB,QAAQ,EAAC,IAAI,CAACA,QAAQ,CAACmB,IAAI,CAAC,CAAC;UAAElB,IAAI,EAAC,IAAI,CAACA,IAAI,CAACkB,IAAI,CAAC;QAAC;QAChGzB,eAAe,CAAC,KAAK,EAAC0B,UAAU,EAAC,IAAI,CAAClB,GAAG,EAAC,2BAA2B,CAAC;MACxE;IACF,CAAC;IACDmB,iBAAiBA,CAACR,KAAK,EAAC;MACtB,IAAIS,MAAK,GAAI,IAAIC,UAAU,CAAC,CAAC;MAC7BD,MAAM,CAACE,aAAa,CAACX,KAAK,CAACY,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;MAC3CJ,MAAM,CAACK,MAAK,GAAI,YAAU;QACxB,IAAIZ,MAAK,GAAIC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC;QAC/CF,MAAM,CAACG,GAAE,GAAII,MAAM,CAACM,MAAM;QAC1B,IAAI,CAAC3B,IAAI,GAACc,MAAM,CAACG,GAAG;MACtB;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}